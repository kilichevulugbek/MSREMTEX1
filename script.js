// Language translations
const translations = {
  en: {
    // Navigation
    'Home': 'Home',
    'About': 'About',
    'Services': 'Services',
    'Vehicles': 'Vehicles',
    'Contact': 'Contact',
    
    // Hero section
    'Elite Armored Vehicles & Professional Tuning': 'Elite Armored Vehicles & Professional Tuning',
    'Creating the ultimate protection and performance solutions for discerning clients worldwide': 'Creating the ultimate protection and performance solutions for discerning clients worldwide',
    'Explore Services': 'Explore Services',
    'View Vehicles': 'View Vehicles',
    
    // About section
    'About MS REM TEX': 'About MS REM TEX',
    'Excellence in armored vehicle manufacturing and automotive tuning': 'Excellence in armored vehicle manufacturing and automotive tuning',
    'Our Mission': 'Our Mission',
    'At MS REM TEX, we specialize in creating world-class armored vehicles and providing exceptional car tuning services. With years of experience in the automotive industry, we combine cutting-edge technology with masterful craftsmanship to deliver vehicles that exceed expectations in both protection and performance.': 'At MS REM TEX, we specialize in creating world-class armored vehicles and providing exceptional car tuning services. With years of experience in the automotive industry, we combine cutting-edge technology with masterful craftsmanship to deliver vehicles that exceed expectations in both protection and performance.',
    'Our Experience': 'Our Experience',
    'Our team of expert engineers and technicians brings decades of combined experience in vehicle armoring, performance tuning, and custom modifications. We work with the finest materials and employ the most advanced techniques to ensure every vehicle meets the highest standards of quality and safety.': 'Our team of expert engineers and technicians brings decades of combined experience in vehicle armoring, performance tuning, and custom modifications. We work with the finest materials and employ the most advanced techniques to ensure every vehicle meets the highest standards of quality and safety.',
    
    // Services section
    'Our Services': 'Our Services',
    'Comprehensive solutions for armored vehicles and performance tuning': 'Comprehensive solutions for armored vehicles and performance tuning',
    
    // Vehicles section
    'Our Vehicle Fleet': 'Our Vehicle Fleet',
    'Explore our extensive collection of armored and tuned vehicles': 'Explore our extensive collection of armored and tuned vehicles',
    
    // Contact section
    'Contact Us': 'Contact Us',
    'Get in touch for consultation and inquiries': 'Get in touch for consultation and inquiries',
    'Phone': 'Phone',
    'Telegram': 'Telegram',
    
    // Footer
    'Excellence in armored vehicles and automotive tuning': 'Excellence in armored vehicles and automotive tuning',
    'Quick Links': 'Quick Links',
    'Contact Info': 'Contact Info',
    'All rights reserved.': 'All rights reserved.'
  },
  
  uz: {
    // Navigation
    'Home': 'Bosh sahifa',
    'About': 'Biz haqimizda',
    'Services': 'Xizmatlar',
    'Vehicles': 'Avtomobillar',
    'Contact': 'Aloqa',
    
    // Hero section
    'Elite Armored Vehicles & Professional Tuning': 'Elita zirhli avtomobillar va professional tuning',
    'Creating the ultimate protection and performance solutions for discerning clients worldwide': 'Butun dunyo bo\'ylab tanqidiy mijozlar uchun eng yaxshi himoya va ishlash yechimlarini yaratish',
    'Explore Services': 'Xizmatlarni ko\'rish',
    'View Vehicles': 'Avtomobillarni ko\'rish',
    
    // About section
    'About MS REM TEX': 'MS REM TEX haqida',
    'Excellence in armored vehicle manufacturing and automotive tuning': 'Zirhli avtomobil ishlab chiqarish va avtomobil tuningida mukammallik',
    'Our Mission': 'Bizning missiyamiz',
    'At MS REM TEX, we specialize in creating world-class armored vehicles and providing exceptional car tuning services. With years of experience in the automotive industry, we combine cutting-edge technology with masterful craftsmanship to deliver vehicles that exceed expectations in both protection and performance.': 'MS REM TEX kompaniyasida biz jahon darajasidagi zirhli avtomobillar yaratish va ajoyib avtomobil tuning xizmatlarini taqdim etishga ixtisoslashganmiz. Avtomobil sanoatida ko\'p yillik tajribaga ega bo\'lib, biz eng zamonaviy texnologiyani mahoratli hunarmandchilik bilan birlashtirib, himoya va ishlash jihatidan kutilganidan ham oshib ketadigan avtomobillarni taqdim etamiz.',
    'Our Experience': 'Bizning tajribamiz',
    'Our team of expert engineers and technicians brings decades of combined experience in vehicle armoring, performance tuning, and custom modifications. We work with the finest materials and employ the most advanced techniques to ensure every vehicle meets the highest standards of quality and safety.': 'Bizning ekspert muhandislar va texniklar jamoasi avtomobil zirhlanishi, ishlash sozlanishi va maxsus o\'zgartirishlar bo\'yicha o\'nlab yillik birlashgan tajribaga ega. Biz eng yaxshi materiallar bilan ishlaymiz va har bir avtomobil sifat va xavfsizlikning eng yuqori standartlariga javob berishini ta\'minlash uchun eng ilg\'or usullarni qo\'llaymiz.',
    
    // Services section
    'Our Services': 'Bizning xizmatlarimiz',
    'Comprehensive solutions for armored vehicles and performance tuning': 'Zirhli avtomobillar va ishlash sozlanishi uchun keng qamrovli yechimlar',
    
    // Vehicles section
    'Our Vehicle Fleet': 'Bizning avtomobil parkimiz',
    'Explore our extensive collection of armored and tuned vehicles': 'Bizning zirhli va sozlangan avtomobillarimizning keng to\'plamini o\'rganing',
    
    // Contact section
    'Contact Us': 'Biz bilan bog\'lanish',
    'Get in touch for consultation and inquiries': 'Maslahat va so\'rovlar uchun bog\'laning',
    'Phone': 'Telefon',
    'Telegram': 'Telegram',
    
    // Footer
    'Excellence in armored vehicles and automotive tuning': 'Zirhli avtomobillar va avtomobil tuningida mukammallik',
    'Quick Links': 'Tezkor havolalar',
    'Contact Info': 'Aloqa ma\'lumotlari',
    'All rights reserved.': 'Barcha huquqlar himoyalangan.'
  },
  
  ru: {
    // Navigation
    'Home': 'Главная',
    'About': 'О нас',
    'Services': 'Услуги',
    'Vehicles': 'Автомобили',
    'Contact': 'Контакты',
    
    // Hero section
    'Elite Armored Vehicles & Professional Tuning': 'Элитные бронированные автомобили и профессиональный тюнинг',
    'Creating the ultimate protection and performance solutions for discerning clients worldwide': 'Создание лучших решений защиты и производительности для взыскательных клиентов по всему миру',
    'Explore Services': 'Изучить услуги',
    'View Vehicles': 'Посмотреть автомобили',
    
    // About section
    'About MS REM TEX': 'О MS REM TEX',
    'Excellence in armored vehicle manufacturing and automotive tuning': 'Совершенство в производстве бронированных автомобилей и автомобильном тюнинге',
    'Our Mission': 'Наша миссия',
    'At MS REM TEX, we specialize in creating world-class armored vehicles and providing exceptional car tuning services. With years of experience in the automotive industry, we combine cutting-edge technology with masterful craftsmanship to deliver vehicles that exceed expectations in both protection and performance.': 'В MS REM TEX мы специализируемся на создании бронированных автомобилей мирового класса и предоставлении исключительных услуг по тюнингу автомобилей. Обладая многолетним опытом в автомобильной промышленности, мы сочетаем передовые технологии с мастерским мастерством для создания автомобилей, которые превосходят ожидания как в защите, так и в производительности.',
    'Our Experience': 'Наш опыт',
    'Our team of expert engineers and technicians brings decades of combined experience in vehicle armoring, performance tuning, and custom modifications. We work with the finest materials and employ the most advanced techniques to ensure every vehicle meets the highest standards of quality and safety.': 'Наша команда экспертных инженеров и техников обладает десятилетиями совместного опыта в бронировании автомобилей, настройке производительности и индивидуальных модификациях. Мы работаем с лучшими материалами и применяем самые передовые методы, чтобы каждый автомобиль соответствовал высочайшим стандартам качества и безопасности.',
    
    // Services section
    'Our Services': 'Наши услуги',
    'Comprehensive solutions for armored vehicles and performance tuning': 'Комплексные решения для бронированных автомобилей и настройки производительности',
    
    // Vehicles section
    'Our Vehicle Fleet': 'Наш автопарк',
    'Explore our extensive collection of armored and tuned vehicles': 'Изучите нашу обширную коллекцию бронированных и тюнингованных автомобилей',
    
    // Contact section
    'Contact Us': 'Связаться с нами',
    'Get in touch for consultation and inquiries': 'Свяжитесь с нами для консультации и запросов',
    'Phone': 'Телефон',
    'Telegram': 'Телеграм',
    
    // Footer
    'Excellence in armored vehicles and automotive tuning': 'Совершенство в бронированных автомобилях и автомобильном тюнинге',
    'Quick Links': 'Быстрые ссылки',
    'Contact Info': 'Контактная информация',
    'All rights reserved.': 'Все права защищены.'
  }
};

// Vehicle data
const vehicleData = [
  {
    id: 1,
    name: 'Armored Mercedes G-Class',
    description: 'Luxury armored SUV with VR6 protection level',
    image: './mercedes g-class.png',
    specs: ['VR6 Protection', '4.0L V8', 'AWD'],
  },
  {
    id: 2,
    name: 'Tuned BMW M5',
    description: 'High-performance sedan with custom tuning',
    image: './bmw-m5.jpg',
    specs: ['800HP', 'Carbon Fiber', 'Track Ready'],
  },
  {
    id: 3,
    name: 'Armored Land Rover',
    description: 'Executive protection vehicle with luxury features',
    image: './Land_Rover.webp',
    specs: ['VR4 Protection', 'Luxury Interior', 'Run-flat Tires'],
  },
  {
    id: 4,
    name: 'Custom Lamborghini Huracán',
    description: 'Supercar with performance modifications',
    image: './lambo.webp',
    specs: ['900HP', 'Aero Package', 'Ceramic Brakes'],
  },
  {
    id: 5,
    name: 'Armored Toyota Land Cruiser',
    description: 'Reliable armored SUV for harsh conditions',
    image: './Land_cruiser.jpg',
    specs: ['VR5 Protection', 'Off-road Ready', 'Diesel Engine'],
  },
  {
    id: 6,
    name: 'Tuned Porsche 911 GT3',
    description: 'Track-focused sports car with racing modifications',
    image: './porsche.webp',
    specs: ['750HP', 'Roll Cage', 'Racing Suspension'],
  },
  {
    id: 7,
    name: 'Armored Cadillac Escalade',
    description: 'Luxury armored SUV with premium amenities',
    image: 'https://images.pexels.com/photos/14292989/pexels-photo-14292989.jpeg',
    specs: ['VR6 Protection', '8 Seats', 'Entertainment System'],
  },
  {
    id: 8,
    name: 'Custom McLaren 720S',
    description: 'Supercar with aerodynamic enhancements',
    image: 'https://images.pexels.com/photos/27985143/pexels-photo-27985143.jpeg',
    specs: ['850HP', 'Carbon Body', 'Active Aero'],
  },
  {
    id: 9,
    name: 'Armored Ford F-150 Raptor',
    description: 'Tactical pickup truck with off-road capability',
    image: 'https://images.pexels.com/photos/10306505/pexels-photo-10306505.jpeg',
    specs: ['VR4 Protection', 'Off-road Package', 'Crew Cab'],
  },
  {
    id: 10,
    name: 'Tuned Audi RS6 Avant',
    description: 'High-performance wagon with family practicality',
    image: 'https://images.pexels.com/photos/1035108/pexels-photo-1035108.jpeg',
    specs: ['700HP', 'Quattro AWD', 'Sport Exhaust'],
  },
  {
    id: 11,
    name: 'Armored Lexus LX 600',
    description: 'Luxury SUV with advanced protection systems',
    image: 'https://images.pexels.com/photos/2684218/pexels-photo-2684218.jpeg',
    specs: ['VR5 Protection', 'Hybrid Engine', 'Premium Interior'],
  },
  {
    id: 12,
    name: 'Custom Ferrari 488 GTB',
    description: 'Italian supercar with track-focused modifications',
    image: 'https://images.pexels.com/photos/30735110/pexels-photo-30735110.jpeg',
    specs: ['800HP', 'Track Package', 'Carbon Wheels'],
  },
  {
    id: 13,
    name: 'Armored Chevrolet Suburban',
    description: 'Large SUV with family protection capabilities',
    image: 'https://images.pexels.com/photos/33386931/pexels-photo-33386931.jpeg',
    specs: ['VR4 Protection', '9 Seats', 'Towing Package'],
  },
  {
    id: 14,
    name: 'Tuned Nissan GT-R',
    description: 'Japanese supercar with extreme performance mods',
    image: 'https://images.pexels.com/photos/9331829/pexels-photo-9331829.jpeg',
    specs: ['1000HP', 'AWD System', 'Launch Control'],
  },
  {
    id: 15,
    name: 'Armored Mercedes S-Class',
    description: 'Executive sedan with discreet protection',
    image: 'https://images.pexels.com/photos/18369291/pexels-photo-18369291.jpeg',
    specs: ['VR6 Protection', 'Massage Seats', 'Night Vision'],
  },
  {
    id: 16,
    name: 'Custom Bugatti Chiron',
    description: 'Hypercar with exclusive modifications',
    image: 'https://images.pexels.com/photos/454604/pexels-photo-454604.jpeg',
    specs: ['1600HP', 'Carbon Fiber', 'Limited Edition'],
  },
  {
    id: 17,
    name: 'Armored GMC Yukon',
    description: 'Full-size SUV with comprehensive protection',
    image: 'https://images.pexels.com/photos/20551960/pexels-photo-20551960.jpeg',
    specs: ['VR5 Protection', 'Magnetic Ride', '4WD'],
  },
  {
    id: 18,
    name: 'Tuned Dodge Challenger Hellcat',
    description: 'American muscle car with supercharged power',
    image: 'https://images.pexels.com/photos/10854772/pexels-photo-10854772.jpeg',
    specs: ['900HP', 'Supercharged V8', 'Widebody'],
  },
  {
    id: 19,
    name: 'Armored Lincoln Navigator',
    description: 'Luxury SUV with presidential-level protection',
    image: './lincoln.webp',
    specs: ['VR6 Protection', 'Air Suspension', 'Revel Audio'],
  },
  {
    id: 20,
    name: 'Custom Koenigsegg Regera',
    description: 'Swedish hypercar with hybrid technology',
    image: 'https://images.pexels.com/photos/27533317/pexels-photo-27533317.jpeg',
    specs: ['1500HP', 'Hybrid System', 'Carbon Monocoque'],
  }
];

// Global variables
let currentLanguage = 'en';
let currentPage = 1;
const vehiclesPerPage = 8;

// DOM elements
const header = document.getElementById('header');
const mobileMenuBtn = document.getElementById('mobileMenuBtn');
const nav = document.getElementById('nav');
const langBtns = document.querySelectorAll('.lang-btn');
const vehiclesGrid = document.getElementById('vehiclesGrid');
const pagination = document.getElementById('pagination');

// Initialize the website
document.addEventListener('DOMContentLoaded', function() {
  initializeLanguage();
  initializeNavigation();
  initializeScrollAnimations();
  initializeVehicles();
  initializeSmoothScrolling();
  initializeHeaderScroll();
});

// Language functionality
function initializeLanguage() {
  langBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      const lang = btn.dataset.lang;
      switchLanguage(lang);
      
      // Update active language button
      langBtns.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
    });
  });
}

function switchLanguage(lang) {
  currentLanguage = lang;
  
  // Update all elements with data attributes
  document.querySelectorAll('[data-en]').forEach(element => {
    const key = element.dataset.en;
    if (translations[lang] && translations[lang][key]) {
      element.textContent = translations[lang][key];
    }
  });
  
  // Update navigation links
  document.querySelectorAll('.nav-link').forEach(link => {
    const key = link.dataset.en;
    if (translations[lang] && translations[lang][key]) {
      link.textContent = translations[lang][key];
    }
  });
}

// Navigation functionality
function initializeNavigation() {
  // Mobile menu toggle
  mobileMenuBtn.addEventListener('click', () => {
    nav.classList.toggle('active');
    mobileMenuBtn.classList.toggle('active');
  });
  
  // Navigation link clicks
  document.querySelectorAll('.nav-link').forEach(link => {
    link.addEventListener('click', (e) => {
      e.preventDefault();
      const targetId = link.getAttribute('href');
      const targetSection = document.querySelector(targetId);
      
      if (targetSection) {
        targetSection.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
      
      // Close mobile menu
      nav.classList.remove('active');
      mobileMenuBtn.classList.remove('active');
      
      // Update active nav link
      document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
      link.classList.add('active');
    });
  });
}

// Header scroll effect
function initializeHeaderScroll() {
  window.addEventListener('scroll', () => {
    if (window.scrollY > 100) {
      header.classList.add('scrolled');
    } else {
      header.classList.remove('scrolled');
    }
  });
}

// Smooth scrolling for buttons
function initializeSmoothScrolling() {
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      const targetId = this.getAttribute('href');
      const targetSection = document.querySelector(targetId);
      
      if (targetSection) {
        targetSection.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
    });
  });
}

// Scroll animations
function initializeScrollAnimations() {
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };
  
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('animate');
      }
    });
  }, observerOptions);
  
  // Observe all sections and cards
  document.querySelectorAll('section, .service-card, .vehicle-card, .about-content, .contact-item').forEach(el => {
    el.classList.add('scroll-animate');
    observer.observe(el);
  });
}

// Vehicle functionality
function initializeVehicles() {
  renderVehicles();
  renderPagination();
}

function renderVehicles() {
  const startIndex = (currentPage - 1) * vehiclesPerPage;
  const endIndex = startIndex + vehiclesPerPage;
  const vehiclesToShow = vehicleData.slice(startIndex, endIndex);
  
  vehiclesGrid.innerHTML = vehiclesToShow.map(vehicle => `
    <div class="vehicle-card scroll-animate">
      <div class="vehicle-image">
        <img src="${vehicle.image}" alt="${vehicle.name}">
      </div>
      <div class="vehicle-content">
        <h3>${vehicle.name}</h3>
        <p>${vehicle.description}</p>
        <div class="vehicle-specs">
          ${vehicle.specs.map(spec => `<span class="spec-item">${spec}</span>`).join('')}
        </div>
        <div class="vehicle-price">${vehicle.price}</div>
      </div>
    </div>
  `).join('');
  
  // Re-observe new elements for scroll animations
  document.querySelectorAll('.vehicle-card').forEach(card => {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate');
        }
      });
    }, { threshold: 0.1 });
    
    observer.observe(card);
  });
}

function renderPagination() {
  const totalPages = Math.ceil(vehicleData.length / vehiclesPerPage);
  
  let paginationHTML = '';
  
  // Previous button
  paginationHTML += `
    <button onclick="changePage(${currentPage - 1})" ${currentPage === 1 ? 'disabled' : ''}>
      Previous
    </button>
  `;
  
  // Page numbers
  for (let i = 1; i <= totalPages; i++) {
    paginationHTML += `
      <button onclick="changePage(${i})" ${i === currentPage ? 'class="active"' : ''}>
        ${i}
      </button>
    `;
  }
  
  // Next button
  paginationHTML += `
    <button onclick="changePage(${currentPage + 1})" ${currentPage === totalPages ? 'disabled' : ''}>
      Next
    </button>
  `;
  
  pagination.innerHTML = paginationHTML;
}

function changePage(page) {
  const totalPages = Math.ceil(vehicleData.length / vehiclesPerPage);
  
  if (page < 1 || page > totalPages) return;
  
  currentPage = page;
  renderVehicles();
  renderPagination();
  
  // Scroll to vehicles section
  document.getElementById('vehicles').scrollIntoView({
    behavior: 'smooth',
    block: 'start'
  });
}

// Add some interactive effects
document.addEventListener('DOMContentLoaded', function() {
  // Add hover effects to buttons
  document.querySelectorAll('.btn').forEach(btn => {
    btn.addEventListener('mouseenter', function() {
      this.style.transform = 'translateY(-3px)';
    });
    
    btn.addEventListener('mouseleave', function() {
      this.style.transform = 'translateY(0)';
    });
  });
  
  // Add parallax effect to hero section
  window.addEventListener('scroll', () => {
    const scrolled = window.pageYOffset;
    const heroImage = document.querySelector('.hero-image');
    if (heroImage) {
      heroImage.style.transform = `translateY(${scrolled * 0.5}px)`;
    }
  });
  
  // Add loading animation to service cards
  document.querySelectorAll('.service-card').forEach((card, index) => {
    card.style.animationDelay = `${index * 0.1}s`;
  });
});

// Expose changePage function to global scope for pagination buttons
window.changePage = changePage;

const hero_images = ["./hero-photo1.png", "./hero-photo2.png", "./hero-photo3.png", "./hero-photo4.png", "./hero-photo5.png", "./hero-photo6.png"];
let hero_index = 0;

const hero_img = document.getElementById("hero-image");

setInterval(() => {
  hero_img.style.opacity = 0;

  setTimeout(() => {
    hero_index = (hero_index + 1) % hero_images.length;
    hero_img.src = hero_images[hero_index];
    hero_img.style.opacity = 1;
  }, 400);
}, 3000);

const facilities_images = ["./facilities1.jpg", "./facilities2.jpg"];
let facilities_index = 0;

const facilities_img = document.getElementById("facilities");

setInterval(() => {
  facilities_img.style.opacity = 0;

  setTimeout(() => {
    facilities_index = (facilities_index + 1) % facilities_images.length;
    facilities_img.src = facilities_images[facilities_index];
    facilities_img.style.opacity = 1;
  }, 400);
}, 3000);